{"version":3,"file":"styled.esm.js","sources":["../src/react-css-styled/StyledElement.tsx","../src/react-css-styled/styled.tsx"],"sourcesContent":["import { Component, createElement, version } from \"react\";\nimport { IObject } from \"@daybrush/utils\";\nimport { StyledInjector, InjectResult } from \"css-styled\";\nimport { ref } from \"framework-utils\";\n\nexport class StyledElement<T extends HTMLElement | SVGElement = HTMLElement> extends Component<IObject<any>> {\n    public injector!: StyledInjector;\n    public element!: T;\n    public injectResult: InjectResult | null = null;\n    public tag: string = \"div\";\n    public render(): any {\n        const {\n            className = \"\",\n            cspNonce,\n            portalContainer,\n            ...attributes\n        } = this.props;\n        const cssId = this.injector!.className;\n        const Tag = this.tag;\n        let portalAttributes: Record<string, any> = {};\n\n        if ((version || \"\").indexOf(\"simple\") > -1 && portalContainer) {\n            portalAttributes = { portalContainer };\n        }\n\n        return createElement(Tag, {\n            \"ref\": ref(this, \"element\"),\n            \"data-styled-id\": cssId,\n            \"className\": `${className} ${cssId}`,\n            ...portalAttributes,\n            ...attributes,\n        });\n    }\n    public componentDidMount() {\n        this.injectResult = this.injector!.inject(this.element!, {\n            nonce: this.props.cspNonce,\n        });\n    }\n    public componentWillUnmount() {\n        this.injectResult!.destroy();\n        this.injectResult = null;\n    }\n    public getElement() {\n        return this.element;\n    }\n}\n","import cssStyled from \"css-styled\";\nimport { StyledElement } from \"./StyledElement\";\n\nexport default function styled<T extends HTMLElement | SVGElement = HTMLElement>(\n    tag: string, css: string): typeof StyledElement & (new (...args: any[]) => StyledElement<T>) {\n    const injector = cssStyled(css);\n\n    return class Styled extends StyledElement<T> {\n        public injector = injector;\n        public tag = tag;\n    };\n}\n"],"names":["tslib_1","_this","_a","_b","className","cspNonce","portalContainer","attributes","cssId","injector","Tag","tag","portalAttributes","version","indexOf","createElement","ref","injectResult","inject","element","nonce","props","destroy","Component","styled","css","cssStyled","StyledElement"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAKqFA,SAAA,cAAA,QAAA;;wBAArF;wEAAA;;IAGWC,kBAAA,GAAoC,IAApC;IACAA,SAAA,GAAc,KAAd;;;;;;gBACA,GAAP;QACUC,eAAN;QACIC,iBADJ;QACIC,mCADJ;QAEIC,sBAFJ;QAGIC,oCAHJ;QAIIC,qEAJJ;;QAMMC,KAAK,GAAG,KAAKC,QAAL,CAAeL,SAA7B;QACMM,GAAG,GAAG,KAAKC,GAAjB;QACIC,gBAAgB,GAAwB,EAA5C;;QAEI,CAACC,OAAO,IAAI,EAAZ,EAAgBC,OAAhB,CAAwB,QAAxB,IAAoC,CAAC,CAArC,IAA0CR,eAA9C,EAA+D;MAC3DM,gBAAgB,GAAG;QAAEN,eAAe;OAApC;;;WAGGS,aAAa,CAACL,GAAD;aACTM,GAAG,CAAC,IAAD,EAAO,SAAP;wBACQR;mBACFJ,SAAS,MAAT,GAAaI;OAC1BI,kBACAL,WALa,CAApB;GAfG;;2BAuBA,GAAP;SACSU,YAAL,GAAoB,KAAKR,QAAL,CAAeS,MAAf,CAAsB,KAAKC,OAA3B,EAAqC;MACrDC,KAAK,EAAE,KAAKC,KAAL,CAAWhB;KADF,CAApB;GADG;;8BAKA,GAAP;SACSY,YAAL,CAAmBK,OAAnB;SACKL,YAAL,GAAoB,IAApB;GAFG;;oBAIA,GAAP;WACW,KAAKE,OAAZ;GADG;;sBAGX;EAxCqFI,UAArF;;SCFwBC,OACpBb,KAAac;MACPhB,QAAQ,GAAGiB,SAAS,CAACD,GAAD,CAA1B;;;;MAE4BzB,SAAA,OAAA,QAAA;;qBAArB;4EAAA;;QACIC,cAAA,GAAWQ,QAAX;QACAR,SAAA,GAAMU,GAAN;;;;mBACX;MAH4BgB;;;;;;;"}