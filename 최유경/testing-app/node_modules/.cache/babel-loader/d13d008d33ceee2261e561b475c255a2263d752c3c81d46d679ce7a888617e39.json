{"ast":null,"code":"/*\nCopyright (c) 2019 Daybrush\nname: css-styled\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/css-styled.git\nversion: 1.0.1\n*/\nimport { splitComma } from '@daybrush/utils';\nfunction hash(str) {\n  var hash = 5381,\n    i = str.length;\n  while (i) {\n    hash = hash * 33 ^ str.charCodeAt(--i);\n  }\n\n  /* JavaScript does bitwise operations (like XOR, above) on 32-bit signed\n   * integers. Since we want the results to be always positive, convert the\n   * signed int to an unsigned by doing an unsigned bitshift. */\n  return hash >>> 0;\n}\nvar stringHash = hash;\nfunction getHash(str) {\n  return stringHash(str).toString(36);\n}\nfunction getShadowRoot(parentElement) {\n  if (parentElement && parentElement.getRootNode) {\n    var rootNode = parentElement.getRootNode();\n    if (rootNode.nodeType === 11) {\n      return rootNode;\n    }\n  }\n  return;\n}\nfunction replaceStyle(className, css, options) {\n  if (options.original) {\n    return css;\n  }\n  return css.replace(/([^};{\\s}][^};{]*|^\\s*){/mg, function (_, selector) {\n    var trimmedSelector = selector.trim();\n    return (trimmedSelector ? splitComma(trimmedSelector) : [\"\"]).map(function (subSelector) {\n      var trimmedSubSelector = subSelector.trim();\n      if (trimmedSubSelector.indexOf(\"@\") === 0) {\n        return trimmedSubSelector;\n      } else if (trimmedSubSelector.indexOf(\":global\") > -1) {\n        return trimmedSubSelector.replace(/\\:global/g, \"\");\n      } else if (trimmedSubSelector.indexOf(\":host\") > -1) {\n        return \"\" + trimmedSubSelector.replace(/\\:host/g, \".\" + className);\n      } else if (trimmedSubSelector) {\n        return \".\" + className + \" \" + trimmedSubSelector;\n      } else {\n        return \".\" + className;\n      }\n    }).join(\", \") + \" {\";\n  });\n}\nfunction injectStyle(className, css, options, shadowRoot) {\n  var style = document.createElement(\"style\");\n  style.setAttribute(\"type\", \"text/css\");\n  style.setAttribute(\"data-styled-id\", className);\n  if (options.nonce) {\n    style.setAttribute(\"nonce\", options.nonce);\n  }\n  style.innerHTML = replaceStyle(className, css, options);\n  (shadowRoot || document.head || document.body).appendChild(style);\n  return style;\n}\n\n/**\n * Create an styled object that can be defined and inserted into the css.\n * @param - css styles\n */\n\nfunction styled(css) {\n  var injectClassName = \"rCS\" + getHash(css);\n  var injectCount = 0;\n  var injectElement;\n  return {\n    className: injectClassName,\n    inject: function (el, options) {\n      if (options === void 0) {\n        options = {};\n      }\n      var shadowRoot = getShadowRoot(el);\n      var firstMount = injectCount === 0;\n      var styleElement;\n      if (shadowRoot || firstMount) {\n        styleElement = injectStyle(injectClassName, css, options, shadowRoot);\n      }\n      if (firstMount) {\n        injectElement = styleElement;\n      }\n      if (!shadowRoot) {\n        ++injectCount;\n      }\n      return {\n        destroy: function () {\n          if (shadowRoot) {\n            shadowRoot.removeChild(styleElement);\n            styleElement = null;\n          } else {\n            if (injectCount > 0) {\n              --injectCount;\n            }\n            if (injectCount === 0 && injectElement) {\n              injectElement.parentNode.removeChild(injectElement);\n              injectElement = null;\n            }\n          }\n        }\n      };\n    }\n  };\n}\nexport default styled;","map":{"version":3,"mappings":"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","names":["getHash","str","stringHash","toString","getShadowRoot","parentElement","getRootNode","rootNode","nodeType","replaceStyle","className","css","options","original","replace","_","selector","trimmedSelector","trim","splitComma","map","trimmedSubSelector","subSelector","indexOf","join","injectStyle","shadowRoot","style","document","createElement","setAttribute","nonce","innerHTML","head","body","appendChild","styled","injectClassName","injectCount","injectElement","inject","el","firstMount","styleElement","destroy","removeChild","parentNode"],"sources":["C:\\Users\\SSAFY\\Desktop\\S08P12C106\\최유경\\testing-app\\node_modules\\css-styled\\src\\utils.ts","C:\\Users\\SSAFY\\Desktop\\S08P12C106\\최유경\\testing-app\\node_modules\\css-styled\\src\\styled.ts"],"sourcesContent":["import stringHash from \"string-hash\";\nimport { splitComma } from \"@daybrush/utils\";\nimport { InjectOptions } from \"./types\";\n\nexport function getHash(str: string) {\n    return stringHash(str).toString(36);\n}\nexport function getShadowRoot(parentElement: HTMLElement | SVGElement) {\n    if (parentElement && parentElement.getRootNode) {\n        const rootNode = parentElement.getRootNode();\n\n        if (rootNode.nodeType === 11) {\n            return rootNode;\n        }\n    }\n    return;\n}\nexport function replaceStyle(className: string, css: string, options: Partial<InjectOptions>) {\n    if (options.original) {\n        return css;\n    }\n    return css.replace(/([^};{\\s}][^};{]*|^\\s*){/mg, (_, selector) => {\n        const trimmedSelector = selector.trim();\n        return (trimmedSelector ? splitComma(trimmedSelector) : [\"\"]).map(subSelector => {\n            const trimmedSubSelector = subSelector.trim();\n            if (trimmedSubSelector.indexOf(\"@\") === 0) {\n                return trimmedSubSelector;\n            } else if (trimmedSubSelector.indexOf(\":global\") > -1) {\n                return trimmedSubSelector.replace(/\\:global/g, \"\");\n            } else if (trimmedSubSelector.indexOf(\":host\") > -1) {\n                return `${trimmedSubSelector.replace(/\\:host/g, `.${className}`)}`;\n            } else if (trimmedSubSelector) {\n                return `.${className} ${trimmedSubSelector}`;\n            } else {\n                return `.${className}`;\n            }\n        }).join(\", \") + \" {\";\n    });\n}\nexport function injectStyle(className: string, css: string, options: Partial<InjectOptions>, shadowRoot?: Node) {\n    const style = document.createElement(\"style\");\n\n    style.setAttribute(\"type\", \"text/css\");\n    style.setAttribute(\"data-styled-id\", className);\n\n    if (options.nonce) {\n        style.setAttribute(\"nonce\", options.nonce);\n    }\n    style.innerHTML = replaceStyle(className, css, options);\n\n    (shadowRoot || document.head || document.body).appendChild(style);\n    return style;\n}\n","import { getHash, injectStyle, getShadowRoot } from \"./utils\";\nimport { StyledInjector, InjectOptions } from \"./types\";\n\n/**\n * Create an styled object that can be defined and inserted into the css.\n * @param - css styles\n */\nfunction styled(css: string): StyledInjector {\n    const injectClassName = \"rCS\" + getHash(css);\n    let injectCount = 0;\n    let injectElement!: HTMLStyleElement;\n\n    return {\n        className: injectClassName,\n        inject(el: HTMLElement | SVGElement, options: Partial<InjectOptions> = {}) {\n            const shadowRoot = getShadowRoot(el);\n            const firstMount = injectCount === 0;\n            let styleElement: HTMLStyleElement;\n\n            if (shadowRoot || firstMount) {\n                styleElement = injectStyle(injectClassName, css, options, shadowRoot);\n            }\n            if (firstMount) {\n                injectElement = styleElement;\n            }\n            if (!shadowRoot) {\n                ++injectCount;\n            }\n            return {\n                destroy() {\n                    if (shadowRoot) {\n                        shadowRoot.removeChild(styleElement);\n                        styleElement = null;\n                    } else {\n                        if (injectCount > 0) {\n                            --injectCount;\n                        }\n                        if (injectCount === 0 && injectElement) {\n                            injectElement.parentNode!.removeChild(injectElement);\n                            injectElement = null;\n                        }\n                    }\n                },\n            };\n        },\n    };\n}\n\nexport * from \"./types\";\nexport default styled;\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}