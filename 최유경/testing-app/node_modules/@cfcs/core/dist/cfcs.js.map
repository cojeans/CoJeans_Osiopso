{"version":3,"file":"cfcs.js","sources":["../src/core/utils.ts","../src/dom/utils.ts","../src/reactive/const.ts","../src/reactive/detectDependencies.ts","../src/reactive/Observer.ts","../src/reactive/ComputedObserver.ts","../src/reactive/decorators/Observe.ts","../src/reactive/decorators/ReactiveSubscribe.ts","../src/reactive/inline.ts","../src/reactive/utils.ts","../src/reactive/adaptReactive.ts","../src/reactive/decorators/Computed.ts","../src/index.umd.ts"],"sourcesContent":["/**\n * cfcs\n * Copyright (c) 2022-present NAVER Corp.\n * MIT license\n */\nexport function keys<T extends Record<string, any>>(obj: T): Array<keyof T> {\n  return Object.keys(obj);\n}\n\nexport function camelize(str: string) {\n  return str.replace(/[\\s-_]([a-z])/g, (all, letter) => letter.toUpperCase());\n}\n\nexport function isString(val: any): val is string {\n  return typeof val === \"string\";\n}\n\nexport function isObject(val: any): val is object {\n  return typeof val === \"object\";\n}\n\nexport function isFunction(val: any): val is Function {\n  return typeof val === \"function\";\n}\n","import { isString, Ref } from \"../core\";\n\nexport function findTarget<Target extends Element = Element>(target: string | Target | Ref<Target> | null): Target | null {\n  let el!: Target;\n\n  if (!target) {\n    return null;\n  } if (isString(target)) {\n    el = document.querySelector<Target>(target)!;\n  } else if (target instanceof Element) {\n    el = target;\n  } else if (\"value\" in target || \"current\" in target) {\n    el = target.value! || target.current!;\n  }\n\n  return el;\n}\n\nexport function withClassMethods(methods: readonly string[]) {\n  return function (prototype: any, memberName: string) {\n    methods.forEach((name: string) => {\n      if (name in prototype) {\n        return;\n      }\n      prototype[name] = function (...args) {\n        const result = this[memberName][name](...args);\n\n        // fix `this` type to return your own `class` instance to the instance using the decorator.\n        if (result === this[memberName]) {\n          return this;\n        } else {\n          return result;\n        }\n      };\n    });\n  };\n}\n","export const OBSERVERS_PATH = \"__observers__\";\nexport const REACTIVE_PATH = \"__reactive__\";\nexport const CFCS_DETECTED_DEPENDENCIES_VERSION = 1;\nexport const CFCS_DETECTED_DEPENDENCIES = \"__CFCS_DETECTED_DEPENDENCIES__\";\n","import {\n  CFCS_DETECTED_DEPENDENCIES,\n  CFCS_DETECTED_DEPENDENCIES_VERSION,\n} from \"./const\";\nimport { Observer } from \"./Observer\";\n\nexport interface Detected {\n  host: Observer<any>;\n  observers: Array<Observer<any>>;\n  push(observer: Observer<any>): void;\n}\n\nexport function getDetectedStack(): Array<Detected> {\n  // Version issues do not occur when you access the native object in the global.\n  (Object as any)[CFCS_DETECTED_DEPENDENCIES] = (Object as any)[CFCS_DETECTED_DEPENDENCIES] || {};\n  const versionList = (Object as any)[CFCS_DETECTED_DEPENDENCIES];\n\n  versionList[CFCS_DETECTED_DEPENDENCIES_VERSION] = versionList[CFCS_DETECTED_DEPENDENCIES_VERSION] || [];\n\n  return versionList[CFCS_DETECTED_DEPENDENCIES_VERSION];\n}\n\nexport function getCurrentDetected(): Detected | undefined {\n  const stack = getDetectedStack();\n\n  return stack[stack.length - 1];\n}\n\nexport function detectDependencies(host: Observer<any>) {\n  const stack = getDetectedStack();\n  const observers: Array<Observer> = [];\n  const detected: Detected = {\n    host,\n    observers,\n    push(observer: Observer<any>) {\n      if (host !== observer && observers.indexOf(observer) === -1) {\n        observers.push(observer);\n      }\n    },\n  };\n\n  stack.push(detected);\n  return detected;\n}\n\nexport function endDetectDependencies() {\n  const stack = getDetectedStack();\n\n  return stack.pop();\n}\n","import Component from \"@egjs/component\";\nimport { getCurrentDetected } from \"./detectDependencies\";\n\ninterface EmitterEvents<Value> {\n  update: (value: Value, prevValue: Value) => void;\n}\n\n/**\n * @memberof Reactive\n */\nexport class Observer<Value = any> {\n  protected _current: Value;\n  protected _emitter = new Component<EmitterEvents<Value>>();\n\n  /**\n   *\n   */\n  constructor(value?: Value) {\n    this._current = value as any;\n  }\n  public get current() {\n    const currentDetected = getCurrentDetected();\n\n    currentDetected?.push(this);\n    return this._current as Value;\n  }\n  public set current(value: Value) {\n    this._setCurrent(value);\n  }\n  public subscribe(callback: (value: Value, prevValue: Value) => void) {\n    this.current;\n    this._emitter.on(\"update\", callback);\n    return this;\n  }\n  public unsubscribe(callback?: (value: Value, prevValue: Value) => void) {\n    this._emitter.off(\"update\", callback);\n    return this;\n  }\n  protected _setCurrent(value: Value) {\n    const prevValue = this._current;\n    const isUpdate = value !== prevValue;\n\n    this._current = value;\n\n    if (isUpdate) {\n      this._emitter.trigger(\"update\", value, prevValue);\n    }\n  }\n  public toString() {\n    return `${this.current}`;\n  }\n  public valueOf() {\n    return this.current;\n  }\n}\n","import { detectDependencies, endDetectDependencies } from \"./detectDependencies\";\nimport { Observer } from \"./Observer\";\n\n/**\n * @memberof Reactive\n * @extends Reactive.Observer\n */\nexport class ComputedObserver<T> extends Observer<T> {\n  private _registered: Array<Observer<any>> = [];\n  /**\n   * Creates a new computed observer from the values of other observers.\n   * It is read-only and if you change the value of the observer used inside the callback, its value will be automatically updated.\n   * @param _computedCallback A function for observers to be computed.\n   */\n  constructor(private _computedCallback: () => T) {\n    super();\n\n    this._current = this.current;\n  }\n\n  get current() {\n    detectDependencies(this);\n    const value = this._computedCallback();\n    const results = endDetectDependencies()!;\n\n    this._registered.forEach(observer => {\n      observer.unsubscribe(this._onCheckUpdate);\n    });\n    results.observers.forEach(observer => {\n      observer.subscribe(this._onCheckUpdate);\n    });\n    this._registered = results.observers;\n\n    return value;\n  }\n\n  private _onCheckUpdate = () => {\n    this._setCurrent(this.current);\n  }\n}\n","import { getObserver } from \"../utils\";\n\n\nfunction injectObserve(prototype: any, memberName: string, publicName = memberName) {\n  const nextAttributes: PropertyDescriptor = {\n    configurable: true,\n    get: function () {\n      return getObserver(this, publicName).current;\n    },\n    set: function (value: any) {\n      getObserver(this, publicName, value).current = value;\n    },\n  };\n  Object.defineProperty(prototype, memberName, nextAttributes);\n  if (publicName !== memberName) {\n    Object.defineProperty(prototype, publicName, {\n      configurable: true,\n      get: function () {\n        return getObserver(this, publicName).current;\n      },\n    });\n  }\n}\nexport function Observe(protoype: any, memberName: string): void;\nexport function Observe(name?: string): (protoype: any, memberName: string) => void;\nexport function Observe(...args: any[]) {\n  if (args.length > 1) {\n    return injectObserve(args[0], args[1]);\n  }\n\n  return (prototype: any, memberName: string) => injectObserve(prototype, memberName, args[0]);\n}\n\n\nexport function Reactive(protoype: any, memberName: string): void;\nexport function Reactive(name?: string): (protoype: any, memberName: string) => void;\nexport function Reactive(...args: any[]) {\n  return Observe(...args);\n}\n\n","import { keys } from \"../../core\";\nimport { getObserver, getObservers } from \"../utils\";\n\nexport function injectReactiveSubscribe(object: Record<string, any>,) {\n  object[\"subscribe\"] = function (name: string, callback: (value: any) => void) {\n    this[name];\n    getObserver(this, name).subscribe(callback);\n  };\n  object[\"unsubscribe\"] = function (name?: string, callback?: (value: any) => void) {\n    if (!name) {\n      keys(getObservers(this)).forEach((observerName) => {\n        this.unsubscribe(observerName);\n      });\n      return;\n    }\n    if (!(name in this)) {\n      return;\n    }\n    getObserver(this, name).unsubscribe(callback);\n  };\n}\n\nexport function ReactiveSubscribe(Constructor: any) {\n  const prototype = Constructor.prototype;\n\n  injectReactiveSubscribe(prototype);\n}\n\n/**\n * @typedef\n */\nexport interface ReactiveSubscribe<State extends Record<string, any>> {\n  /**\n   * When the value of the property changes, the callback function is called.\n   */\n  subscribe<Name extends keyof State = keyof State>(\n    name: Name, callback: (value: State[Name]) => void): void;\n  /**\n   * Unregister the callback function corresponding to the property.\n   */\n  unsubscribe<Name extends keyof State = keyof State>(\n    name?: Name, callback?: (value: State[Name]) => void): void;\n}\n","import { ComputedObserver } from \"./ComputedObserver\";\nimport { Observer } from \"./Observer\";\nimport { ExtractNever, isFunction, keys } from \"../core\";\nimport { Observe } from \"./decorators/Observe\";\nimport { injectReactiveSubscribe, ReactiveSubscribe } from \"./decorators/ReactiveSubscribe\";\nimport { defineObservers, isObserver, setObserver } from \"./utils\";\n\n\ntype ConvertValue<Object extends Record<string, any>> = {\n  [Key in keyof Object]: Object[Key] extends Observer<infer Type> ? Type : Object[Key];\n}\n\ntype PickObverser<Object extends Record<string, any>> = ExtractNever<{\n  [Key in keyof Object]: Object[Key] extends Observer<infer Type> ? Type : never;\n}>;\n\nexport type ReactiveObject<Object extends Record<string, any>>\n  = ConvertValue<Object> & ReactiveSubscribe<PickObverser<Object>>;\n\nexport function reactive<Object extends Record<string, any>>(\n  setup: Readonly<Object> | (() => Readonly<Object>),\n  all?: boolean,\n): ReactiveObject<Object> {\n  const result = isFunction(setup) ? setup() : setup;\n  const reactiveObject: Record<string, any> = {};\n\n  defineObservers(reactiveObject);\n  keys(result).forEach((name: any) => {\n    const value = result[name];\n\n    if (isObserver(value)) {\n      setObserver(reactiveObject, name, value);\n    } else if (!all) {\n      reactiveObject[name] = value;\n      return;\n    } else {\n      setObserver(reactiveObject, name, observe(value));\n    }\n    Observe(name)(reactiveObject, name);\n  });\n\n  injectReactiveSubscribe(reactiveObject);\n  return reactiveObject as ReactiveObject<Object>;\n}\n\nexport function computed<Type>(computedCallback: () => Type) {\n    return new ComputedObserver(computedCallback);\n}\n\nexport function observe<Type>(defaultValue?: Type): Observer<Type> {\n    return new Observer<Type>(defaultValue);\n}\n","import { OBSERVERS_PATH } from \"./const\";\nimport { Observer } from \"./Observer\";\nimport { ReactiveMethods } from \"./types\";\nimport { isObject, Ref } from \"../core\";\nimport { observe } from \"./inline\";\n\n\nexport function withReactiveMethods<\n  Instance,\n  Names extends keyof Partial<Instance>,\n  Return extends ReactiveMethods<Instance, Names>\n>(ref: Ref<Instance>, methods?: readonly Names[]): Return {\n  const obj: Record<any, any> = {};\n\n  if (!methods) {\n    return obj;\n  }\n\n  methods.forEach(name => {\n    obj[name] = function (...args: any[]) {\n      const current: any = ref.current || ref.value;\n\n      return current[name](...args);\n    };\n  });\n  return obj as Return;\n}\n\n\nexport function defineObservers(instance: any) {\n  const observers: Record<string, Observer<any>> = {};\n\n  Object.defineProperty(instance, OBSERVERS_PATH, {\n    get() {\n      return observers;\n    },\n  });\n\n  return observers;\n}\n\nexport function getObservers(instance: any): Record<string, Observer<any>> {\n  if (!instance[OBSERVERS_PATH]) {\n    defineObservers(instance);\n  }\n  return instance[OBSERVERS_PATH];\n}\n\nexport function getObserver(instance: any, name: string, defaultValue?: any): Observer<any> {\n  const observers = getObservers(instance);\n\n  if (!observers[name]) {\n    observers[name] = observe(defaultValue);\n  }\n  return observers[name];\n}\n\nexport function setObserver(instance: any, name: string, observer: Observer<any>) {\n  const observers = getObservers(instance);\n\n  observers[name] = observer;\n}\n\nexport function isObserver(val: any): val is Observer {\n  return val && isObject(val) && (\"current\" in val && \"subscribe\" in val && \"unsubscribe\" in val);\n}\n\n","import { keys } from \"../core\";\nimport { Ref } from \"../core/types\";\nimport { ReactiveAdapter } from \"./ReactiveAdapter\";\nimport { ReactiveSubscribe } from \"./decorators/ReactiveSubscribe\";\nimport { ReactiveEventCallback } from \"./types\";\nimport { getObservers, withReactiveMethods } from \"./utils\";\n\nexport function adaptReactive<\n  Instance extends ReactiveSubscribe<Record<string, any>>,\n  State extends Record<string, any> = {},\n  Methods extends keyof Partial<Instance> = any,\n  Data = any,\n  Events extends Record<string, any> = {},\n  >(adapter: ReactiveAdapter<Instance, State, Methods, Data, Events>) {\n\n  function data(): Data {\n    return adapter.data?.() ?? {} as Data;\n  }\n\n  const instanceRef: Ref<Instance> = { current: adapter.created?.(data()) || null };\n  let firstState: State | null = null;\n\n  return {\n    state(): State {\n      const inst = instanceRef.current;\n\n      if (firstState) {\n        return firstState;\n      }\n      if (adapter.state) {\n        firstState = adapter.state;\n      } else if (inst) {\n        const observers = getObservers(inst);\n\n        firstState = keys(observers).reduce((prev, cur) => {\n          prev[cur] = observers[cur].current;\n          return prev;\n        }, {} as any);\n      }\n      return firstState || {} as State;\n    },\n    instance() {\n      return instanceRef.current;\n    },\n    mounted(): void {\n      instanceRef.current = adapter.mounted?.(data(), instanceRef.current) || instanceRef.current;\n    },\n    init(): void {\n      adapter.init?.(instanceRef.current!, data());\n    },\n    destroy(): void {\n      adapter.destroy?.(instanceRef.current!, data());\n    },\n    methods() {\n      return withReactiveMethods<any, any, any>(instanceRef, adapter.methods);\n    },\n    on(eventName: string, listener: ReactiveEventCallback<any, any>) {\n      adapter.on?.(instanceRef.current!, eventName as never, listener);\n    },\n    off(eventName: string, listener: ReactiveEventCallback<any, any>) {\n      adapter.off?.(instanceRef.current!, eventName as never, listener);\n    },\n  };\n}\n","import { computed } from \"../inline\";\nimport { getObserver, getObservers } from \"../utils\";\n\n\nexport function Computed(prototype: any, memberName: string, attributes: PropertyDescriptor): PropertyDescriptor {\n    const get = attributes.get!;\n    function getComputed() {\n        const observers = getObservers(this);\n\n        if (!(memberName in observers)) {\n            observers[memberName] = computed(get.bind(this));\n        }\n        return getObserver(this, memberName).current;\n    }\n    const nextAttributes: PropertyDescriptor = {\n        configurable: true,\n        get: getComputed,\n    }\n\n    Object.defineProperty(prototype, memberName, nextAttributes);\n\n    return nextAttributes;\n}\n","/**\n * cfcs\n * Copyright (c) 2022-present NAVER Corp.\n * MIT license\n */\nimport * as modules from \"./index\";\n\n// co\n// for (const name in modules) {\n//     (cfcs as any)[name] = (modules as any)[name];\n// }\n\nexport default modules;\n"],"names":["keys","obj","Object","camelize","str","replace","all","letter","toUpperCase","isString","val","isObject","isFunction","findTarget","target","el","document","querySelector","Element","value","current","withClassMethods","methods","prototype","memberName","forEach","name","args","_i","arguments","length","result","_a","apply","OBSERVERS_PATH","CFCS_DETECTED_DEPENDENCIES_VERSION","CFCS_DETECTED_DEPENDENCIES","getDetectedStack","versionList","getCurrentDetected","stack","detectDependencies","host","observers","detected","push","observer","indexOf","endDetectDependencies","pop","Observer","_emitter","Component","_current","defineProperty","get","currentDetected","set","_setCurrent","subscribe","callback","on","unsubscribe","off","prevValue","isUpdate","trigger","toString","concat","valueOf","ComputedObserver","_super","__extends","_computedCallback","_this","_registered","_onCheckUpdate","results","injectObserve","publicName","nextAttributes","configurable","getObserver","Observe","Reactive","injectReactiveSubscribe","object","getObservers","observerName","ReactiveSubscribe","Constructor","reactive","setup","reactiveObject","defineObservers","isObserver","setObserver","observe","computed","computedCallback","defaultValue","withReactiveMethods","ref","instance","adaptReactive","adapter","data","_b","call","instanceRef","created","firstState","state","inst","observers_1","reduce","prev","cur","mounted","init","destroy","eventName","listener","Computed","attributes","getComputed","bind"],"mappings":"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"}